# 前后端跨域

## 同源策略

同源政策的目的，是为了保证用户信息的安全，防止恶意的网站窃取数据。

所谓"同源"指的是"三个相同"：

* 协议相同
* 域名相同
* 端口相同

---

## SpringBoot 配置cors

### 注解

`@CrossOrigin(origins = {"http://localhost:8081"}, allowCredentials = "true")`

很简单的配置，处理get和post足够了

### bean

直接在配置类下，添加一个bean

```Java
    // 跨域设置
    @Bean
    public FilterRegistrationBean corsFilter() {
        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();
        CorsConfiguration config = new CorsConfiguration();
        config.setAllowCredentials(true);
        config.addAllowedOrigin("*");
        config.addAllowedHeader("*");
        config.addAllowedMethod("*");
        source.registerCorsConfiguration("/**", config);
        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));
        bean.setOrder(0);
        return bean;
    }
```


---

[浏览器同源政策及其规避方法](http://www.ruanyifeng.com/blog/2016/04/same-origin-policy.html)

[跨域资源共享 CORS 详解](http://www.ruanyifeng.com/blog/2016/04/cors.html)